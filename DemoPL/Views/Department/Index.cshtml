@model IEnumerable<DepartmentViewModel>
@{
    ViewData["Title"] = "All departments";
}
@if (@TempData["Message"] is not null)
{
    <div class="alert alert-success" id="tempmessage">
        @TempData["Message"]
    </div>
}
<a asp-action="Create" class="btn-danger m-3 p-2 rounded">Create new department</a>
<br/>
@if (Model.Count() > 0)
{
    <h1 class="m-1">ALL DEPARTMENTS</h1>
    <br/>
    <table class="table table-dark tabel-hover">
        <thead>
            <tr>
                <td>@Html.DisplayNameFor(D => D.Code)</td>
                <td>@Html.DisplayNameFor(D => D.Name)</td>
                <td>@Html.DisplayNameFor(D => D.DateOfCreation)</td>
                <td>Details</td>
                <td>Update</td>
                <td>delete</td>
            </tr>

        </thead>
        <tbody>
            @foreach (var D in Model)
            {
                <tr>
                    <td>@D.Code</td>
                    <td>@D.Name</td>
                    <td>@D.DateOfCreation</td>
                    <partial name="_ButtonsPartialView" model="@D.Id.ToString()" />
                </tr>
            }
        </tbody>
    </table>
    
    @section Task1 {
    <script>
        function showTempDataDiv() {
            var div = document.getElementById('tempmessage');
            div.style.display = 'block'; 
            setTimeout(function () {
                div.style.display = 'none';
            }, 3000); 
        }
        window.onload = function () {
            showTempDataDiv();
        };
    </script>
    }
}
else
{
    <div class="mt-5 alert alert- alert-warning">
        <h1>There is no departments</h1>
    </div>
}
